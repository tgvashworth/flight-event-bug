<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>event-bug-demo</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <style type="text/css">
        .widget {
            padding: 1em;
            margin: 0 1em 0 0;
            border: 1px solid black;
            width: 200px;
            float: left;
        }
        button {
            clear: left;
        }
    </style>
  </head>
  <body>

    <p>The two boxes ('widgets') below are have two instances of the same 'widget' component attached to them.
    <p>The idea is that, when you click "Change color!" both change becuase the button fires a "changeColor" event on the document, and the widget components are listening for this event.
    <p>Clicking "Turn this'un off" removes the event listener for that component instance. The expected behaviour is that the one you've turned off should stop changing color, and the other should continue.
    <p>But, in Flight 1.1.1, calling <code>this.off</code> removes <em>all</em> listeners to "changeColor" on the document.

    <p>
        <button id="change">Change color!</button>
    </p>

    <div class="widget" id="widget-1">
        <button>Turn this'un off</button>
    </div>
    <div class="widget" id="widget-2">
        <button>Turn this'un off</button>
    </div>


    <!--[if lt IE 9]>
    <script src="/bower_components/es5-shim/es5-shim.js"></script>
    <script src="/bower_components/es5-shim/es5-sham.js"></script>
    <![endif]-->
    <script src="/bower_components/jquery/jquery.js"></script>
    <script src="/bower_components/requirejs/require.js" data-main="/js/main.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='//www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>
  </body>
</html>
